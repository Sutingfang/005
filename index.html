<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ã€æ•¸æ“šå‹•æ…‹ç«¶è³½ã€‘å„åœ‹æ—…å®¢è¨ªå°äººæ•¸è®ŠåŒ– (2015-2024)</title>

    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #121212; /* æ·±è‰²èƒŒæ™¯ */
            color: #E0E0E0; /* æ·ºè‰²æ–‡å­— */
            margin: 0;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            line-height: 1.6;
        }
        .container {
            max-width: 1200px;
            width: 100%;
        }
        header {
            text-align: center;
            padding-bottom: 20px;
        }
        h1 {
            color: #FFC107; /* äº®é»ƒè‰²ä½œç‚ºä¸»æ¨™é¡Œå¼·èª¿è‰² */
            font-size: 2.5em;
            margin-bottom: 5px;
        }
        h2 {
            color: #B0BEC5; /* ç°è‰²å‰¯æ¨™é¡Œ */
            font-size: 1.2em;
            font-weight: 300;
            margin-top: 0;
        }
        p {
            margin-bottom: 15px;
            font-size: 1em;
            color: #B0BEC5;
            text-align: left;
        }
        #chartdiv {
            width: 100%;
            height: 600px; /* å¢åŠ é«˜åº¦ï¼Œè®“åœ–è¡¨æ›´æ¸…æ™° */
            background-color: #1E1E1E; /* åœ–è¡¨å®¹å™¨çš„æ·±ç°è‰²èƒŒæ™¯ */
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.5);
            margin-top: 20px;
        }
        .note {
            font-size: 0.8em;
            color: #616161;
            text-align: center;
            margin-top: 20px;
        }
    </style>

    <script src="https://cdn.amcharts.com/lib/5/index.js"></script>
    <script src="https://cdn.amcharts.com/lib/5/xy.js"></script>
    <script src="https://cdn.amcharts.com/lib/5/themes/Animated.js"></script>
    <script src="https://cdn.amcharts.com/lib/5/themes/Dark.js"></script> </head>
<body>

    <div class="container">
        <header>
            <h1>ğŸŒ åœ‹éš›æ—…å®¢è¨ªå°äººæ•¸å‹•æ…‹ç«¶è³½ ğŸ“Š</h1>
            <h2>æ•¸æ“šæ¶µè“‹ 2015 å¹´ (æ°‘åœ‹ 104 å¹´) è‡³ 2024 å¹´ (æ°‘åœ‹ 113 å¹´)</h2>
        </header>

        <p>
            é€™å¼µå‹•æ…‹æ¢å½¢åœ–å±•ç¤ºäº†ä¾†è‡ªä¸»è¦åœ‹å®¶/åœ°å€çš„æ—…å®¢åœ¨ **2015 å¹´è‡³ 2024 å¹´**é–“ï¼Œæ¯å¹´è¨ªå•å°ç£çš„äººæ•¸è®ŠåŒ–ã€‚æ•¸æ“šä»¥**å¹´ä»½**ç‚ºè»¸ç·šæ»¾å‹•ï¼Œç›´è§€åœ°å‘ˆç¾äº†å„å€‹åœ‹å®¶å®¢æºå¸‚å ´ä»½é¡çš„æ¶ˆé•·èˆ‡æ’åè®ŠåŒ–ã€‚
        </p>
        <p>
            æ‚¨å¯ä»¥è§€å¯Ÿåˆ°åœ¨ **2020 å¹´è‡³ 2022 å¹´**æœŸé–“ï¼Œåœ‹éš›æ—…éŠå¸‚å ´å—åˆ°å…¨çƒäº‹ä»¶çš„é¡¯è‘—è¡æ“Šï¼Œæ•¸æ“šå‡ºç¾å¤§å¹…ä¸‹é™ã€‚è€Œéš¨è‘—åœ‹å¢ƒé–‹æ”¾ï¼Œå¾ **2023 å¹´**èµ·ï¼Œå„åœ‹æ—…å®¢æ•¸å­—æ­£é€æ­¥å›å‡ï¼Œä¸¦é è¨ˆåœ¨ **2024 å¹´**ç¹¼çºŒå¢é•·ã€‚
        </p>

        <div id="chartdiv"></div>

        <div class="note">æ•¸æ“šä¾†æºï¼šæ ¹æ“šæ‚¨æä¾›çš„å„åœ‹æ—…å®¢çµ±è¨ˆè³‡æ–™æ•´ç†ã€‚</div>
    </div>


    <script>
    am5.ready(function() {

    // Data (ä½¿ç”¨æ‚¨æä¾›çš„è³‡æ–™)
    var allData = {
        // æ°‘åœ‹ 104 å¹´ (ROC Year 104) = 2015 å¹´ (AD Year 2015)
        "2015": {
            "æ—¥æœ¬": 1629193,
            "éŸ“åœ‹": 662670,
            "è¶Šå—": 143930,
            "æ³°åœ‹": 121337,
            "é¦¬ä¾†è¥¿äº": 458401,
            "æ–°åŠ å¡": 354767,
            "è²å¾‹è³“": 139758,
            "å°å°¼": 181734,
            "å°åº¦": 36833,
            "ç¾åœ‹": 497410,
            "åŠ æ‹¿å¤§": 126003
        },
        // æ°‘åœ‹ 105 å¹´ (ROC Year 105) = 2016 å¹´ (AD Year 2016)
        "2016": {
            "æ—¥æœ¬": 1896456,
            "éŸ“åœ‹": 887412,
            "è¶Šå—": 194323,
            "æ³°åœ‹": 193200,
            "é¦¬ä¾†è¥¿äº": 500496,
            "æ–°åŠ å¡": 371663,
            "è²å¾‹è³“": 171816,
            "å°å°¼": 192053,
            "å°åº¦": 38331,
            "ç¾åœ‹": 542261,
            "åŠ æ‹¿å¤§": 143691
        },
        // æ°‘åœ‹ 106 å¹´ (ROC Year 106) = 2017 å¹´ (AD Year 2017)
        "2017": {
            "æ—¥æœ¬": 1895546,
            "éŸ“åœ‹": 1055207,
            "è¶Šå—": 380833,
            "æ³°åœ‹": 289801,
            "é¦¬ä¾†è¥¿äº": 552620,
            "æ–°åŠ å¡": 386843,
            "è²å¾‹è³“": 290303,
            "å°å°¼": 193813,
            "å°åº¦": 40846,
            "ç¾åœ‹": 577628,
            "åŠ æ‹¿å¤§": 155661
        },
        // æ°‘åœ‹ 107 å¹´ (ROC Year 107) = 2018 å¹´ (AD Year 2018)
        "2018": {
            "æ—¥æœ¬": 1966303,
            "éŸ“åœ‹": 1021530,
            "è¶Šå—": 490699,
            "æ³°åœ‹": 317086,
            "é¦¬ä¾†è¥¿äº": 548947,
            "æ–°åŠ å¡": 389689,
            "è²å¾‹è³“": 420302,
            "å°å°¼": 215891,
            "å°åº¦": 45243,
            "ç¾åœ‹": 594946,
            "åŠ æ‹¿å¤§": 164079
        },
        // æ°‘åœ‹ 108 å¹´ (ROC Year 108) = 2019 å¹´ (AD Year 2019)
        "2019": {
            "æ—¥æœ¬": 2162426,
            "éŸ“åœ‹": 1245144,
            "è¶Šå—": 404570,
            "æ³°åœ‹": 410385,
            "é¦¬ä¾†è¥¿äº": 560099,
            "æ–°åŠ å¡": 421121,
            "è²å¾‹è³“": 510966,
            "å°å°¼": 234968,
            "å°åº¦": 48575,
            "ç¾åœ‹": 620077,
            "åŠ æ‹¿å¤§": 173491
        },
        // æ°‘åœ‹ 109 å¹´ (ROC Year 109) = 2020 å¹´ (AD Year 2020)
        "2020": {
            "æ—¥æœ¬": 268798,
            "éŸ“åœ‹": 179190,
            "è¶Šå—": 110053,
            "æ³°åœ‹": 63303,
            "é¦¬ä¾†è¥¿äº": 74788,
            "æ–°åŠ å¡": 46225,
            "è²å¾‹è³“": 77914,
            "å°å°¼": 56725,
            "å°åº¦": 6865,
            "ç¾åœ‹": 82989,
            "åŠ æ‹¿å¤§": 22078
        },
        // æ°‘åœ‹ 110 å¹´ (ROC Year 110) = 2021 å¹´ (AD Year 2021)
        "2021": {
            "æ—¥æœ¬": 9910,
            "éŸ“åœ‹": 3165,
            "è¶Šå—": 24872,
            "æ³°åœ‹": 7534,
            "é¦¬ä¾†è¥¿äº": 6188,
            "æ–°åŠ å¡": 2309,
            "è²å¾‹è³“": 9350,
            "å°å°¼": 14131,
            "å°åº¦": 1945,
            "ç¾åœ‹": 9680,
            "åŠ æ‹¿å¤§": 1101
        },
        // æ°‘åœ‹ 111 å¹´ (ROC Year 111) = 2022 å¹´ (AD Year 2022)
        "2022": {
            "æ—¥æœ¬": 87133,
            "éŸ“åœ‹": 51480,
            "è¶Šå—": 135356,
            "æ³°åœ‹": 74356,
            "é¦¬ä¾†è¥¿äº": 60742,
            "æ–°åŠ å¡": 66182,
            "è²å¾‹è³“": 64490,
            "å°å°¼": 79301,
            "å°åº¦": 9929,
            "ç¾åœ‹": 85840,
            "åŠ æ‹¿å¤§": 14486
        },
        // æ°‘åœ‹ 112 å¹´ (ROC Year 112) = 2023 å¹´ (AD Year 2023)
        "2023": {
            "æ—¥æœ¬": 926140,
            "éŸ“åœ‹": 745885,
            "è¶Šå—": 382026,
            "æ³°åœ‹": 391573,
            "é¦¬ä¾†è¥¿äº": 463292,
            "æ–°åŠ å¡": 423063,
            "è²å¾‹è³“": 352871,
            "å°å°¼": 206023,
            "å°åº¦": 36968,
            "ç¾åœ‹": 534219,
            "åŠ æ‹¿å¤§": 117203
        },
        // æ°‘åœ‹ 113 å¹´ (ROC Year 113) = 2024 å¹´ (AD Year 2024)
        "2024": {
            "æ—¥æœ¬": 1318372,
            "éŸ“åœ‹": 1010035,
            "è¶Šå—": 370802,
            "æ³°åœ‹": 397168,
            "é¦¬ä¾†è¥¿äº": 463216,
            "æ–°åŠ å¡": 400181,
            "è²å¾‹è³“": 476746,
            "å°å°¼": 231455,
            "å°åº¦": 45674,
            "ç¾åœ‹": 660284,
            "åŠ æ‹¿å¤§": 144168
        }
    };


    // Create root element
    // https://www.amcharts.com/docs/v5/getting-started/#Root_element
    var root = am5.Root.new("chartdiv");

    root.numberFormatter.setAll({
        numberFormat: "#a",

        // Group only into M (millions), and B (billions)
        bigNumberPrefixes: [
            { number: 1e6, suffix: "M" },
            { number: 1e9, suffix: "B" }
        ],

        // Do not use small number prefixes at all
        smallNumberPrefixes: []
    });


    // Set themes
    // åŠ å…¥ DarkTheme è®“æ·±è‰²èƒŒæ™¯æ›´å¥½çœ‹
    root.setThemes([am5themes_Animated.new(root), am5themes_Dark.new(root)]);


    var stepDuration = 2000;


    // Create chart
    // https://www.amcharts.com/docs/v5/charts/xy-chart/
    var chart = root.container.children.push(am5xy.XYChart.new(root, {
        panX: true,
        panY: true,
        wheelX: "none",
        wheelY: "none",
        paddingLeft: 0
    }));


    // We don't want zoom-out button to appear while animating, so we hide it at all
    chart.zoomOutButton.set("forceHidden", true);


    // Create axes
    // https://www.amcharts.com/docs/v5/charts/xy-chart/axes/
    var yRenderer = am5xy.AxisRendererY.new(root, {
        minGridDistance: 20,
        inversed: true,
        minorGridEnabled: true
    });
    // hide grid
    yRenderer.grid.template.set("visible", false);

    var yAxis = chart.yAxes.push(am5xy.CategoryAxis.new(root, {
        maxDeviation: 0,
        categoryField: "network",
        renderer: yRenderer
    }));

    var xAxis = chart.xAxes.push(am5xy.ValueAxis.new(root, {
        maxDeviation: 0,
        min: 0,
        strictMinMax: true,
        extraMax: 0.1,
        renderer: am5xy.AxisRendererX.new(root, {})
    }));

    // èª¿æ•´ X è»¸æ¨™ç±¤çš„æ•¸å­—æ ¼å¼ç‚ºæ•´æ•¸
    xAxis.get("renderer").labels.template.set("forceHidden", false);
    xAxis.get("renderer").labels.template.set("text", "{value.formatNumber('#,###')}");


    xAxis.set("interpolationDuration", stepDuration / 10);
    xAxis.set("interpolationEasing", am5.ease.linear);


    // Add series
    // https://www.amcharts.com/docs/v5/charts/xy-chart/series/
    var series = chart.series.push(am5xy.ColumnSeries.new(root, {
        xAxis: xAxis,
        yAxis: yAxis,
        valueXField: "value",
        categoryYField: "network"
    }));

    // Rounded corners for columns
    series.columns.template.setAll({ cornerRadiusBR: 5, cornerRadiusTR: 5 });

    // Make each column to be of a different color
    series.columns.template.adapters.add("fill", function (fill, target) {
        return chart.get("colors").getIndex(series.columns.indexOf(target));
    });

    series.columns.template.adapters.add("stroke", function (stroke, target) {
        return chart.get("colors").getIndex(series.columns.indexOf(target));
    });

    // Add label bullet (åœ¨æ¯å€‹é•·æ¢å°¾éƒ¨é¡¯ç¤ºæ•¸å€¼)
    series.bullets.push(function () {
        return am5.Bullet.new(root, {
            locationX: 1,
            sprite: am5.Label.new(root, {
                // å°‡æ ¼å¼æ”¹ç‚ºé¡¯ç¤ºå®Œæ•´çš„æ•¸å­—ä¸¦ä½¿ç”¨åƒä½åˆ†éš”ç¬¦
                text: "{valueXWorking.formatNumber('#,###')}", 
                fill: root.interfaceColors.get("alternativeText"),
                centerX: am5.p100,
                centerY: am5.p50,
                populateText: true,
                paddingLeft: 10 // ç¨å¾®æ¨é–‹é•·æ¢
            })
        });
    });

    // å¹´ä»½æ¨™ç±¤ (å¤§å­—é«”)
    var label = chart.plotContainer.children.push(am5.Label.new(root, {
        text: "2015",
        fontSize: "8em",
        opacity: 0.2,
        x: am5.p100,
        y: am5.p100,
        centerY: am5.p100,
        centerX: am5.p100,
        fill: am5.color(0x757575) // è¨­ç½®ç°è‰²
    }));

    // Get series item by category
    function getSeriesItem(category) {
        for (var i = 0; i < series.dataItems.length; i++) {
            var dataItem = series.dataItems[i];
            if (dataItem.get("categoryY") == category) {
                return dataItem;
            }
        }
    }

    // Axis sorting
    function sortCategoryAxis() {
        // sort by value
        series.dataItems.sort(function (x, y) {
            return y.get("valueX") - x.get("valueX"); // descending
        });

        // go through each axis item
        am5.array.each(yAxis.dataItems, function (dataItem) {
            // get corresponding series item
            var seriesDataItem = getSeriesItem(dataItem.get("category"));

            if (seriesDataItem) {
                // get index of series data item
                var index = series.dataItems.indexOf(seriesDataItem);
                // calculate delta position
                var deltaPosition =
                    (index - dataItem.get("index", 0)) / series.dataItems.length;
                // set index to be the same as series data item index
                if (dataItem.get("index") != index) {
                    dataItem.set("index", index);
                    // set deltaPosition instanlty
                    dataItem.set("deltaPosition", -deltaPosition);
                    // animate delta position to 0
                    dataItem.animate({
                        key: "deltaPosition",
                        to: 0,
                        duration: stepDuration / 2,
                        easing: am5.ease.out(am5.ease.cubic)
                    });
                }
            }
        });
        // sort axis items by index.
        // This changes the order instantly, but as deltaPosition is set, they keep in the same places and then animate to true positions.
        yAxis.dataItems.sort(function (x, y) {
            return x.get("index") - y.get("index");
        });
    }

    var year = 2015;

    // update data with values each 1.5 sec
    var interval = setInterval(function () {
        year++;

        if (year > 2024) {
            clearInterval(interval);
            clearInterval(sortInterval);
        }

        updateData();
    }, stepDuration);

    var sortInterval = setInterval(function () {
        sortCategoryAxis();
    }, 100);

    function setInitialData() {
        var d = allData[year];

        for (var n in d) {
            series.data.push({ network: n, value: d[n] });
            yAxis.data.push({ network: n });
        }
    }

    function updateData() {
        var itemsWithNonZero = 0;

        if (allData[year]) {
            label.set("text", year.toString());

            am5.array.each(series.dataItems, function (dataItem) {
                var category = dataItem.get("categoryY");
                var value = allData[year][category];

                if (value > 0) {
                    itemsWithNonZero++;
                }

                dataItem.animate({
                    key: "valueX",
                    to: value,
                    duration: stepDuration,
                    easing: am5.ease.linear
                });
                dataItem.animate({
                    key: "valueXWorking",
                    to: value,
                    duration: stepDuration,
                    easing: am5.ease.linear
                });
            });

            // èª¿æ•´ Y è»¸ç¸®æ”¾ï¼Œåªé¡¯ç¤ºæœ‰æ•¸æ“šçš„åœ‹å®¶
            yAxis.zoom(0, itemsWithNonZero / yAxis.dataItems.length);
        }
    }

    setInitialData();
    setTimeout(function () {
        year++;
        updateData();
    }, 50);

    // Make stuff animate on load
    // https://www.amcharts.com/docs/v5/concepts/animations/
    series.appear(1000);
    chart.appear(1000, 100);

    }); // end am5.ready()
    </script>

</body>
</html>